{"version":3,"sources":["webpack:///src/view/personal/register/register.vue","webpack:///./src/view/personal/register/register.vue?e556","webpack:///./src/view/personal/register/register.vue"],"names":["register","data","key","this","$route","params","name","phone","password","text","userInfo","formData","FormData","imgs","imgLen","radioVal","watch","newV","console","log","created","methods","addImg","event","inputDOM","$refs","inputer","fil","files","oldLen","i","length","Math","floor","size","alert","$set","Date","getTime","getObjectURL","file","url","undefined","window","createObjectURL","URL","webkitURL","delImg","$delete","submit","_this","split","append","$http","post","headers","Content-Type","then","res","alertShow","axiosRegister","_this2","$axios","status","$toast","$router","push","path","catch","err","register_register","render","_vm","_h","$createElement","_c","_self","staticClass","_e","ref","attrs","type","multiple","accept","on","change","_v","_m","_l","value","index","src","click","$event","label","placeholder","model","callback","$$v","expression","title","options","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qGA8BA,IAAAA,GACAC,KADA,WAEA,OACAC,IAAAC,KAAAC,OAAAC,OAAAH,IACAI,KAAA,GACAC,MAAA,GACAC,SAAA,GACAC,KAAA,GACAC,YACAC,SAAA,IAAAC,SACAC,QACAC,OAAA,EACAC,SAAA,KAGAC,OACAD,SADA,SACAE,GACAC,QAAAC,IAAAF,KAGAG,QApBA,aAuBAC,SACAC,OADA,SACAC,GACA,IAAAC,EAAArB,KAAAsB,MAAAC,QAEAvB,KAAAwB,IAAAH,EAAAI,MAGA,IAFA,IAAAC,EAAA1B,KAAAW,OAEAgB,GADA3B,KAAAwB,IAAAI,OACA,GAAAD,EAAA3B,KAAAwB,IAAAI,OAAAD,IAAA,CAEA,GADAE,KAAAC,MAAA9B,KAAAwB,IAAAG,GAAAI,KAAA,MACA,QAEA,OADAC,MAAA,gBACA,EAEAhC,KAAAW,SACAX,KAAAiC,KAAAjC,KAAAU,KAAAV,KAAAwB,IAAAG,GAAAxB,KAAA,SAAA+B,MAAAC,UAAAR,EAAA3B,KAAAwB,IAAAG,MAGAS,aAjBA,SAiBAC,GACA,IAAAC,EAAA,KAQA,YAPAC,GAAAC,OAAAC,gBACAH,EAAAE,OAAAC,gBAAAJ,QACAE,GAAAC,OAAAE,IACAJ,EAAAE,OAAAE,IAAAD,gBAAAJ,QACAE,GAAAC,OAAAG,YACAL,EAAAE,OAAAG,UAAAF,gBAAAJ,IAEAC,GAEAM,OA5BA,SA4BA7C,GACAC,KAAA6C,QAAA7C,KAAAU,KAAAX,GACAC,KAAAW,UAEAmC,OAhCA,WAgCA,IAAAC,EAAA/C,KACA,QAAAD,KAAAC,KAAAU,KAAA,CACA,IAAAP,EAAAJ,EAAAiD,MAAA,QACAhD,KAAAQ,SAAAyC,OAAA,iBAAAjD,KAAAU,KAAAX,GAAAI,GAEAH,KAAAkD,MAAAC,KAAA,oBAAAnD,KAAAQ,UACA4C,SAAAC,eAAA,yBACAC,KAAA,SAAAC,GACAR,EAAAS,WAAA,KAGAC,cA3CA,WA2CA,IAAAC,EAAA1D,KACA,QAAAD,KAAAC,KAAAU,KAAA,CACA,IAAAP,EAAAJ,EAAAiD,MAAA,QACAhD,KAAAQ,SAAAyC,OAAA,QAAAjD,KAAAU,KAAAX,GAAAI,GAEAH,KAAAQ,SAAAyC,OAAA,MAAAjD,KAAAD,KACAC,KAAAQ,SAAAyC,OAAA,OAAAjD,KAAAG,MACAH,KAAAQ,SAAAyC,OAAA,QAAAjD,KAAAI,OACAJ,KAAAQ,SAAAyC,OAAA,SAAAjD,KAAAK,UACAL,KAAAQ,SAAAyC,OAAA,OAAAjD,KAAAM,MACAN,KAAA2D,OAAAR,KAAA,qCAAAnD,KAAAQ,UAAA4C,SAAAC,eAAA,yBACAC,KAAA,SAAAC,GACA,KAAAA,EAAAK,SACAF,EAAAG,OAAA,SACAH,EAAAvD,KAAA,GACAuD,EAAAtD,MAAA,GACAsD,EAAArD,SAAA,GACAqD,EAAApD,KAAA,GACAoD,EAAAhD,QACAgD,EAAA/C,OAAA,EACA+C,EAAAI,QAAAC,MACAC,KAAA,iBAIAC,MAAA,SAAAC,GACAnD,QAAAC,IAAAkD,QCvHeC,GADEC,OAFjB,WAA0B,IAAAC,EAAArE,KAAasE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,QAAAA,EAAA,MAAsBE,YAAA,gBAA0BL,EAAA1D,QAAA,EAA0M0D,EAAAM,KAA1MH,EAAA,MAAAA,EAAA,SAAsDI,IAAA,UAAAF,YAAA,SAAAG,OAA0CC,KAAA,OAAAC,SAAA,GAAAC,OAAA,4CAAgFC,IAAKC,OAAAb,EAAAlD,UAAqBkD,EAAAc,GAAA,KAAAd,EAAAe,GAAA,KAAAf,EAAAc,GAAA,KAAAd,EAAAgB,GAAAhB,EAAA,cAAAiB,EAAAC,GAAuF,OAAAf,EAAA,MAAgBE,YAAA,mBAA6BF,EAAA,OAAAA,EAAA,OAAsBK,OAAOW,IAAAnB,EAAAjC,aAAAkD,QAA+BjB,EAAAc,GAAA,KAAAX,EAAA,KAAwBE,YAAA,QAAAO,IAAwBQ,MAAA,SAAAC,GAAyB,OAAArB,EAAAzB,OAAA2C,OAA2BlB,EAAAc,GAAA,YAAkB,GAAAd,EAAAc,GAAA,KAAAX,EAAA,YAAiCK,OAAOc,MAAA,KAAAC,YAAA,SAAmCC,OAAQP,MAAAjB,EAAA,KAAAyB,SAAA,SAAAC,GAA0C1B,EAAAlE,KAAA4F,GAAaC,WAAA,UAAoB3B,EAAAc,GAAA,KAAAX,EAAA,YAA6BK,OAAOc,MAAA,MAAAC,YAAA,UAAqCC,OAAQP,MAAAjB,EAAA,MAAAyB,SAAA,SAAAC,GAA2C1B,EAAAjE,MAAA2F,GAAcC,WAAA,WAAqB3B,EAAAc,GAAA,KAAAX,EAAA,YAA6BK,OAAOc,MAAA,KAAAC,YAAA,QAAAd,KAAA,YAAqDe,OAAQP,MAAAjB,EAAA,SAAAyB,SAAA,SAAAC,GAA8C1B,EAAAhE,SAAA0F,GAAiBC,WAAA,cAAwB3B,EAAAc,GAAA,KAAAX,EAAA,YAA6BK,OAAOc,MAAA,KAAAC,YAAA,SAAmCC,OAAQP,MAAAjB,EAAA,KAAAyB,SAAA,SAAAC,GAA0C1B,EAAA/D,KAAAyF,GAAaC,WAAA,UAAoB3B,EAAAc,GAAA,KAAAX,EAAA,YAA6BK,OAAOoB,MAAA,WAAAC,SAAA,WAAyCL,OAAQP,MAAAjB,EAAA,SAAAyB,SAAA,SAAAC,GAA8C1B,EAAAzD,SAAAmF,GAAiBC,WAAA,eAAwB,GAAA3B,EAAAc,GAAA,KAAAX,EAAA,aAAkCK,OAAOC,KAAA,SAAA/C,KAAA,UAAgCkD,IAAKQ,MAAApB,EAAAZ,iBAA2BY,EAAAc,GAAA,aAEnkDgB,iBADjB,WAAoC,IAAa7B,EAAbtE,KAAauE,eAA0BC,EAAvCxE,KAAuCyE,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,KAAeE,YAAA,QAAkBF,EAAA,KAAUE,YAAA,aAAuBF,EAAA,KAAjIxE,KAAiImF,GAAA,eCErK,IAcAiB,EAdyBC,EAAQ,OAcjCC,CACEzG,EACAsE,GATF,EAVA,SAAAoC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/9.a349ed4d19f10f86d1df.js","sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t<form>\r\n\t \t<ul class=\"upload-imgs\">\r\n          <li v-if=\"imgLen>=1 ? false : true\" >\r\n            <input type=\"file\" class=\"upload\" @change=\"addImg\" ref=\"inputer\" multiple accept=\"image/png,image/jpeg,image/gif,image/jpg\"/>\r\n            <a class=\"add\"><i class=\"iconfont\"></i><p>点击上传</p></a>\r\n          </li>\r\n          <li class=\"upload-success\"   v-for=\"(value,index) in imgs\">\r\n           \t<div >\r\n           \t\t<img :src=\"getObjectURL(value)\">\r\n           \t\t\r\n           \t</div>\r\n           \t<a class=\"close\" @click=\"delImg(index)\">×</a>\r\n          </li>\r\n        </ul>\r\n\t\t<mt-field label=\"姓名\" placeholder=\"请输入姓名\" v-model=\"name\"></mt-field>\r\n\t\t<mt-field label=\"用户名\" placeholder=\"请输入用户名\" v-model=\"phone\"></mt-field>\r\n\t\t<mt-field label=\"密码\" placeholder=\"请输入密码\" type=\"password\" v-model=\"password\"></mt-field>\r\n\t\t<mt-field label=\"签名\" placeholder=\"请输入签名\" v-model=\"text\"></mt-field>\r\n\t\t<mt-radio\r\n\t\t  title=\"要不要好的体验？\"\r\n\t\t  v-model=\"radioVal\"\r\n\t\t  :options=\"['要', '不要']\">\r\n\t\t</mt-radio>\r\n\t</form>\r\n\t\t<mt-button type=\"danger\" size=\"normal\" @click=\"axiosRegister\">注册</mt-button>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata (){\r\n\t\t\treturn {\r\n\t\t\t\tkey:this.$route.params.key,\r\n\t\t\t\tname:'',  //姓名\r\n\t\t\t\tphone:'', // 账户\r\n\t\t\t\tpassword:'',// 密码\r\n\t\t\t\ttext:'',  // 签名\r\n\t\t\t\tuserInfo:[],\r\n\t\t\t\tformData:new FormData(),\r\n\t\t        imgs: {},\r\n\t\t        imgLen:0,\r\n\t\t        radioVal:''\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tradioVal(newV){\r\n\t\t\t\tconsole.log(newV);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\taddImg(event){\r\n\t\t        let inputDOM = this.$refs.inputer;\r\n\t\t        // 通过DOM取文件数据\r\n\t\t        this.fil = inputDOM.files;\r\n\t\t        let oldLen=this.imgLen;\r\n\t\t        let len=this.fil.length+oldLen;\r\n\t\t        for (let i=0; i < this.fil.length; i++) {\r\n\t\t          let size = Math.floor(this.fil[i].size / 1024);\r\n\t\t          if (size > 5*1024*1024) {\r\n\t\t            alert('请选择5M以内的图片！');\r\n\t\t            return false\r\n\t\t          }\r\n\t\t          this.imgLen++;\r\n\t\t  \t\t  this.$set(this.imgs,this.fil[i].name+'?'+new Date().getTime()+i,this.fil[i]);\r\n\t\t        }\r\n\t\t      },\r\n\t     getObjectURL(file) {\r\n\t\t        var url = null ;\r\n\t\t        if (window.createObjectURL!=undefined) { // basic\r\n\t\t          url = window.createObjectURL(file) ;\r\n\t\t        } else if (window.URL!=undefined) { // mozilla(firefox)\r\n\t\t          url = window.URL.createObjectURL(file) ;\r\n\t\t        } else if (window.webkitURL!=undefined) { // webkit or chrome\r\n\t\t          url = window.webkitURL.createObjectURL(file) ;\r\n\t\t        }\r\n\t\t        return url ;\r\n\t\t      },\r\n\t\t      delImg(key){\r\n\t\t        this.$delete(this.imgs,key);\r\n\t\t        this.imgLen--;\r\n\t\t      },\r\n\t\t      submit(){\r\n\t\t        for(let key in this.imgs){\r\n\t\t          let name=key.split('?')[0];\r\n\t\t          this.formData.append('multipartFiles',this.imgs[key],name);\r\n\t\t        }\r\n\t\t        this.$http.post('/opinion/feedback', this.formData,{\r\n\t\t          headers: {'Content-Type': 'multipart/form-data'}\r\n\t\t        }).then(res => {\r\n\t\t          this.alertShow=true;\r\n\t\t        });\r\n\t\t      },\r\n\t\t\taxiosRegister(){\r\n\t\t\t\tfor(let key in this.imgs){\r\n\t\t          let name=key.split('?')[0];\r\n\t\t          this.formData.append('image',this.imgs[key],name);\r\n\t\t        }\r\n\t\t         this.formData.append(\"key\",this.key);\r\n\t\t         this.formData.append(\"name\",this.name);\r\n\t\t         this.formData.append(\"phone\",this.phone);\r\n\t\t         this.formData.append(\"passwd\",this.password);\r\n\t\t         this.formData.append(\"text\",this.text);\r\n\t\t\t\tthis.$axios.post(\"https://www.apiopen.top/createUser\",this.formData,{ headers: {'Content-Type': 'multipart/form-data'}})\r\n\t\t\t\t.then(res=>{\r\n\t\t\t\t\tif(res.status == 200){\r\n\t\t\t\t\t\tthis.$toast(\"注册成功了\")\r\n\t\t\t\t\t\tthis.name = '';\r\n\t\t\t\t\t\tthis.phone = '';\r\n\t\t\t\t\t\tthis.password = '';\r\n\t\t\t\t\t\tthis.text = '';\r\n\t\t\t\t\t\tthis.imgs = {};\r\n\t\t\t\t\t\tthis.imgLen = 0;\r\n\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\tpath:'/personal'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err=>{\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\t.wrapper{\r\n\t\tpadding:0 12px;\r\n\t\t.mint-cell-wrapper{\r\n\t\t\tborder-bottom:1px solid #ccc;\r\n\t\t}\r\n\t\t.mint-button{\r\n\t\t\twidth:100%;\r\n\t\t\tmargin-top:10px;\t\r\n\t\t}\r\n\t}\r\n\t.upload-imgs{\r\n\t\tmargin: 10px 0 30px 0;\r\n\t\toverflow: hidden;\r\n\t\tfont-size: 0;\r\n\t}\r\n.upload-imgs li{ \r\n\tposition: relative;\r\n\twidth: 118px;\r\n\theight: 118px;\r\n\tfont-size: 14px;\r\n\tpadding: 10px;\r\n\tmargin: 0 auto;\r\n\tborder: 2px dashed #ccc;\r\n\ttext-align: center;\r\n\tvertical-align: middle;\r\n}\r\n.upload-imgs li.upload-success{\r\n\t.close{display: block;position: absolute;right: -6px;top: -10px;line-height: 1;font-size: 22px;color: #aaa;}\r\n\tdiv{\r\n\t\twidth: 98px;\r\n\t\theight: 98px;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 1px dashed  #ccc;\r\n\t\toverflow: hidden;\r\n\t\timg{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n}\r\n.upload-imgs .add{\r\n\tdisplay: block;\r\n\tbackground-color: #ccc;\r\n\tcolor: #ffffff;\r\n\theight: 94px;\r\n\tpadding: 8px 0;\r\n}\r\n.upload-imgs .add .iconfont{\r\n\tpadding: 10px 0;\r\n\tfont-size: 40px;\r\n}\r\n\r\n.upload-imgs li .upload{ \r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0; \r\n\topacity:0; \r\n\twidth: 118px;\r\n\theight: 118px;\r\n}\r\n.upload-imgs .img{\r\n\tposition: relative;\r\n\twidth: 94px;\r\n\theight: 94px;\r\n\tline-height: 94px;\r\n}\r\n.upload-imgs .img img{\r\n\tvertical-align: middle;\r\n}\r\n.upload-imgs .img .close{\r\n\tdisplay: none;\r\n}\r\n.upload-imgs li:hover .img .close{\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tright: -6px;\r\n\ttop: -10px;\r\n\tline-height: 1;\r\n\tfont-size: 22px;\r\n\tcolor: #aaa;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/personal/register/register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('form',[_c('ul',{staticClass:\"upload-imgs\"},[(_vm.imgLen>=1 ? false : true)?_c('li',[_c('input',{ref:\"inputer\",staticClass:\"upload\",attrs:{\"type\":\"file\",\"multiple\":\"\",\"accept\":\"image/png,image/jpeg,image/gif,image/jpg\"},on:{\"change\":_vm.addImg}}),_vm._v(\" \"),_vm._m(0)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.imgs),function(value,index){return _c('li',{staticClass:\"upload-success\"},[_c('div',[_c('img',{attrs:{\"src\":_vm.getObjectURL(value)}})]),_vm._v(\" \"),_c('a',{staticClass:\"close\",on:{\"click\":function($event){return _vm.delImg(index)}}},[_vm._v(\"×\")])])})],2),_vm._v(\" \"),_c('mt-field',{attrs:{\"label\":\"姓名\",\"placeholder\":\"请输入姓名\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"label\":\"用户名\",\"placeholder\":\"请输入用户名\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"label\":\"签名\",\"placeholder\":\"请输入签名\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_vm._v(\" \"),_c('mt-radio',{attrs:{\"title\":\"要不要好的体验？\",\"options\":['要', '不要']},model:{value:(_vm.radioVal),callback:function ($$v) {_vm.radioVal=$$v},expression:\"radioVal\"}})],1),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"danger\",\"size\":\"normal\"},on:{\"click\":_vm.axiosRegister}},[_vm._v(\"注册\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"add\"},[_c('i',{staticClass:\"iconfont\"}),_c('p',[_vm._v(\"点击上传\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-11c825f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/view/personal/register/register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11c825f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./register.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11c825f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11c825f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/personal/register/register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}