{"version":3,"sources":["webpack:///src/view/home/noval/novalSearch.vue","webpack:///./src/view/home/noval/novalSearch.vue?d141","webpack:///./src/view/home/noval/novalSearch.vue"],"names":["novalSearch","data","inputVal","novalList","showSearchLists","historyList","showHistoryList","historyData","created","Stor","window","localStorage","getItem","this","JSON","parse","reverse","alert","watch","_inputVal","oldnovalVal","_this","$axios","get","then","res","code","catch","err","console","log","newhistoryList","oldhistoryList","length","methods","removeHistoryList","setItem","stringify_default","removeHistory","index","splice","addHistoryList","str","i","push","noval_novalSearch","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","type","placeholder","domProps","on","input","$event","target","composing","_v","click","to","params","id","novalName","_l","item","key","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.88d513779a7aaff7b6f0.js","sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<div class=\"input_box\">\r\n\t\t\t<input type=\"text\" class=\"input\" placeholder=\"请输入您想搜索的书籍?\" v-model=\"inputVal\">\r\n\t\t\t<i class=\"icon iconfont icon-sousuo\" @click=\"addHistoryList(inputVal)\"><router-link   :to=\"{name:'novalDetails',params:{id:1,novalName:inputVal}}\"></router-link></i>\r\n\t\t\t<ul class=\"searchLists\" v-show=\"showSearchLists\">\r\n\t\t\t\t<li v-for='(item,index) in novalList' :key=\"index\" @click=\"addHistoryList(item)\"><router-link  :to=\"{name:'novalDetails',params:{id:index,novalName:item}}\">{{ item }}</router-link></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class=\"history_List\" v-show=\"showHistoryList\">\r\n\t\t\t<div class=\"history_remove\"  @click=\"removeHistoryList\">\r\n\t\t\t\t清除历史\r\n\t\t\t</div>\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item,index) in historyList\" :key=\"index\" ><span class=\"addHistoryList\" @click=\"addHistoryList(item)\"><router-link  :to=\"{name:'novalDetails',params:{id:index,novalName:item}}\"><span>{{item}}</span> </router-link></span>  <i class=\"removeHistory\" @click=\"removeHistory(index)\">×</i></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tinputVal:'',\r\n\t\t\t\tnovalList:[],\r\n\t\t\t\tshowSearchLists:false,\r\n\t\t\t\thistoryList:[],\r\n\t\t\t\tshowHistoryList:true,\r\n\t\t\t\thistoryData:[]\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\t\t\r\n\t\t\t\tvar Stor = window.localStorage;\r\n\t\t\t\tif(!Stor){\r\n\t\t\t\t\talert(\"您的浏览器不支持本地储存！\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar historyList = Stor.getItem(\"historyList\");\r\n\t\t\t\t\tif(historyList != 'undefind'){\r\n\t\t\t\t\t\tthis.historyList = JSON.parse(historyList).reverse();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\twatch:{\r\n\t      inputVal(inputVal,oldnovalVal){\r\n\t      \t if(inputVal == []){\r\n\t\t           this.showSearchLists = false;\r\n\t\t        }\r\n\t      this.$axios.get('https://www.apiopen.top/novelSearchApi?name='+ this.inputVal +'')\r\n\t      .then(res=>{\r\n\t      \tif(res.data.code == 200){\r\n\t  \t\t\tthis.novalList = res.data.data\r\n\t\t        this.showSearchLists = true;\r\n\t      \t}\r\n\t      \r\n\t      })\r\n\t      .catch(err=>{\r\n\t        console.log(err);\r\n\t      })\r\n\t      },\r\n\t      historyList(newhistoryList,oldhistoryList){\r\n\t      \tif(newhistoryList.length == 0){\r\n\t\t\t\tthis.showHistoryList = false;\r\n\t      \t}else{\r\n\t      \t\tthis.showHistoryList = true;\r\n\t      \t}\r\n\t      }\r\n\r\n\t  \t},\r\n\t  \tmethods:{\r\n\t  \t\tremoveHistoryList(){\r\n\t  \t\t\tthis.historyList = [];\r\n\t  \t\t\twindow.localStorage.setItem('historyList',JSON.stringify([]));\r\n\t  \t\t},\r\n\t  \t\tremoveHistory(index){\r\n\t  \t\t\tthis.historyList.splice(index,1);\r\n\t  \t\t\tthis.historyData =  JSON.parse(window.localStorage.getItem(\"historyList\")).reverse();\r\n\r\n\t  \t\t\tthis.historyData.splice(index,1);\r\n\t  \t\t\twindow.localStorage.setItem('historyList',JSON.stringify(this.historyData));\r\n\t  \t\t\treturn false;\r\n\t  \t\t},\r\n\t  \t\taddHistoryList(str){\r\n\t  \t\t\tif(str != \"\"){\r\n\t\t\t\t\tthis.historyData =  JSON.parse(window.localStorage.getItem(\"historyList\"));\r\n\t\t\t\t\tif(this.historyData.length>=10 ){\r\n\t\t\t\t\t\tthis.historyData.splice(0,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(var i = 0; i<=this.historyData.length; i++){\r\n\t\t\t\t\t\tif(this.historyData[i] == str){\r\n\t\t\t\t\t\t\tthis.historyData.splice(i,1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.historyData.push(str);\r\n\t  \t\t\t\twindow.localStorage.setItem('historyList',JSON.stringify(this.historyData));\r\n\t  \t\t\t}\r\n\t  \t\t\t\r\n\t  \t\t}\t\r\n\t  \t}\r\n\t}\r\n</script>\r\n<style scoped lang=\"less\">\r\n\t.wrapper{\r\n\t\tpadding: 10px;\r\n\t\t.input_box{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 40px;\r\n\t\t\tline-height: 39px;\r\n\t\t\tfont-weight: 700;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tborder: 1px solid #ccc;\r\n\t\t\tpadding: 0 0 0 5px ;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-family: Microsoft YaHei ,\"微软雅黑\";\r\n\t\t\tposition: relative;\r\n\t\t\tinput{\r\n\t\t\t\tborder:none;\r\n\t\t\t\toutline:none;\r\n\t\t\t\twidth: 88%;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ti{\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twidth: 10.5%;\r\n\t\t\t\theight: 39px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 40px;\t\r\n\t\t\t\tbackground: #ccc;\r\n\t\t\t\tposition: relative;\t\r\n\t\t\t\ta{\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 0px;\r\n\t\t\t\t\tleft: 0px;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.searchLists { \r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 39px;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth:100%;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tfont-weight:300;\r\n\t\t\t\tborder: 1px solid #ddd;\r\n\t\t\t\tborder-top: none;\r\n\t\t\t\tpadding: 0 10px 8px;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\tli{\r\n\t\t\t\t\twidth:100%;\r\n\t\t\t\t\theight: 30px;\r\n\t\t\t\t\tline-height: 30px;\r\n\t\t\t\t\tborder-bottom: 1px #ddd dotted; \r\n\t\t\t\t\ta{\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.history_List{\r\n\t\t\tmargin-top: 50px;\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: relative;\r\n\t\t\t.history_remove{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 0;\r\n\t\t\t\ttop: -20px;\r\n\t\t\t\twidth: 60px;\r\n\t\t\t\theight: 20px;\r\n\t\t\t\tcolor: red;\r\n\t\t\t\tfont-size: 12px; \r\n\t\t\t}\r\n\t\t\tul{\r\n\t\t\t\tborder: solid 1px #ccc;\r\n\t\t\t\tpadding: 5px 35px 15px 35px;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tli{\r\n\t\t\t\t\theight: 30px;\r\n\t\t\t\t\tline-height: 30px;\r\n\t\t\t\t\tborder-bottom: 1px dotted #ddd;\r\n\t\t\t\t\t.addHistoryList { \r\n\t\t\t\t\t\tdisplay:inline-block; width: 50%;\r\n\t\t\t\t\t\ta{\r\n\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti{\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\twidth: 20px;\r\n\t\t\t\t\t\theight: 20px;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\t\tfloat: right;\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\ttop: 5px;\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/home/noval/novalSearch.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"input_box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputVal),expression:\"inputVal\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入您想搜索的书籍?\"},domProps:{\"value\":(_vm.inputVal)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputVal=$event.target.value}}}),_vm._v(\" \"),_c('i',{staticClass:\"icon iconfont icon-sousuo\",on:{\"click\":function($event){return _vm.addHistoryList(_vm.inputVal)}}},[_c('router-link',{attrs:{\"to\":{name:'novalDetails',params:{id:1,novalName:_vm.inputVal}}}})],1),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearchLists),expression:\"showSearchLists\"}],staticClass:\"searchLists\"},_vm._l((_vm.novalList),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.addHistoryList(item)}}},[_c('router-link',{attrs:{\"to\":{name:'novalDetails',params:{id:index,novalName:item}}}},[_vm._v(_vm._s(item))])],1)}),0)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showHistoryList),expression:\"showHistoryList\"}],staticClass:\"history_List\"},[_c('div',{staticClass:\"history_remove\",on:{\"click\":_vm.removeHistoryList}},[_vm._v(\"\\n\\t\\t\\t清除历史\\n\\t\\t\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.historyList),function(item,index){return _c('li',{key:index},[_c('span',{staticClass:\"addHistoryList\",on:{\"click\":function($event){return _vm.addHistoryList(item)}}},[_c('router-link',{attrs:{\"to\":{name:'novalDetails',params:{id:index,novalName:item}}}},[_c('span',[_vm._v(_vm._s(item))])])],1),_vm._v(\" \"),_c('i',{staticClass:\"removeHistory\",on:{\"click\":function($event){return _vm.removeHistory(index)}}},[_vm._v(\"×\")])])}),0)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7a3311a8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/view/home/noval/novalSearch.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a3311a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./novalSearch.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./novalSearch.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./novalSearch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a3311a8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./novalSearch.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a3311a8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/home/noval/novalSearch.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}